<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Login</title>
        <link rel="stylesheet" href="/css/main.css">
        <link rel="stylesheet" href="/css/auth.css">
</head>
<body>

    <%- include('../layout/header')%>

    <main class="main-content">
        <section class="card auth-card" style="max-width:520px;margin:40px auto;padding:24px;">
            <h2><%= t ? t('auth.login') : 'Log In' %></h2>
            <p class="subtle"><%= t ? t('misc.needHelp') : 'Enter your account credentials' %></p>
            <form class="authenticate-form" action="/login" method="post">
                <div class="form-row">
                    <label for="useremail">Email</label>
                    <input id="useremail" name="email" type="email" placeholder="<%= t ? t('placeholders.emailExample') : 'abc@gmail.com' %>" required>
                </div>
                <div class="form-row">
                    <label for="userpwd">Password</label>
                    <div style="display:flex;gap:8px;align-items:center">
                        <input id="userpwd" name="password" type="password" placeholder="<%= t ? t('placeholders.password') : 'Your password' %>" required style="flex:1">
                        <button type="button" class="toggle-password" data-target="#userpwd">Show</button>
                    </div>
                </div>
                <div class="btn-row">
                    <button type="submit" class="btn"><%= t ? t('auth.login') : 'Log in' %></button>
                    <a class="small-link" href="/register"><%= t ? t('auth.signUp') : 'Sign Up' %></a>
                </div>
            </form>
        </section>
    </main>

    <%- include('../layout/footer')%>

    <script src="/js/auth.js" defer></script>
    <script src="/js/main.js" defer></script>
    <script type="text/javascript">
        // replicate mainpage scroll reveal + behaviors so frame matches
        const scrollReveal = () => {
                const elements = document.querySelectorAll('.scroll-reveal');
                elements.forEach(element => {
                        const elementTop = element.getBoundingClientRect().top;
                        const elementVisible = 150;
                        if (elementTop < window.innerHeight - elementVisible) {
                                element.classList.add('active');
                        }
                });
        }
        window.addEventListener('load', () => { scrollReveal(); });
        window.addEventListener('scroll', scrollReveal);
    </script>

</body>
</html>